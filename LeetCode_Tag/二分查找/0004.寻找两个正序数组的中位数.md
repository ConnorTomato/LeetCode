```java
class Solution {
    public double findMedianSortedArrays(int[] nums1, int[] nums2) {
        List<Integer> list = new ArrayList<>();
        for (int num : nums1) {
            list.add(num);
        }
        for (int num : nums2) {
            list.add(num);
        } 
        if (list.size() == 0) {
            return 0;
        }
        if (list.size() % 2 == 1) {
            return getTopK(list, list.size() / 2 + 1);
        } 
        return (getTopK(list, list.size() / 2) + getTopK(list, list.size() / 2 + 1)) * 0.5;
    }
    private int getTopK(List<Integer> list, int k) {
        List<Integer> small = new ArrayList<>();
        List<Integer> equal = new ArrayList<>();
        List<Integer> big = new ArrayList<>();

        Random rand = new Random();
        int pivot = list.get(rand.nextInt(list.size()));
        for (int num : list) {
            if (num < pivot) {
                small.add(num);
            } else if (num > pivot) {
                big.add(num);
            } else {
                equal.add(num);
            }
        }
        if (big.size() >= k) {
            return getTopK(big, k);
        }
        if (big.size() + equal.size() < k) {
            return getTopK(small, k - (big.size() + equal.size()));
        }
        return pivot;
    }
}
```
